<!DOCTYPE html>
<html lang="en-US" class="empower empower-story paint-jam font-sans">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Resilient CSS</title>
<link rel="shortlink" href="https://git.io/vbfhi">
<link rel="shortlink" href="https://goo.gl/ouGBF5">
<link rel="shortlink" href="http://bit.ly/resilient-css">
<style>
* { box-sizing: border-box; word-wrap: break-word }
pre { max-width: 50em }
@media (max-width: 70em) { pre { white-space: pre-wrap }}
@media (max-width: 40em) { pre { white-space: pre-line }}
:focus { outline-color: currentColor }
:link:not(:hover):not(:focus) { text-decoration: none }
:link { color: inherit; text-decoration-skip: ink }
:visited { color: inherit }
::selection { color: Gold; background: Black }
.paint-bee { color: Black; background-color: Gold }
.paint-jam { color: Ivory; background-color: Indigo }
.paint-air { color: Black; background-color: #00F2F2 }
.font-same { font: inherit }
.font-sans { font-family: sans-serif }
.font-100 { font-weight: 100 }
.font-200 { font-weight: 200 }
.font-300 { font-weight: 300 }
.font-400 { font-weight: 400 }
.font-500 { font-weight: 500 }
.font-600 { font-weight: 600 }
.font-700 { font-weight: 700 }
.font-800 { font-weight: 800 }
.font-900 { font-weight: 900 }
.break-word { word-wrap: break-word }
.list-none { list-style-type: none }
.prose { max-width: 20em; margin-left: auto; margin-right: auto }
/* via https://npm.im/border.css */
.border-none { border-style: none }
.border-inset { border-style: inset }
.border-groove { border-style: groove }
.border-outset { border-style: outset }
.border-ridge { border-style: ridge }
.border-dotted { border-style: dotted }
.border-dashed { border-style: dashed }
.border-solid { border-style: solid }
.border-double { border-style: double }
.border-hidden { border-style: hidden }
.border-trim { border-width: 0 }
.border-thin { border-width: thin }
.border-medium { border-width: medium }
.border-thick { border-width: thick }
/* via https://npm.im/flow.css */
.inline-flow { display: inline }
.inline-root { display: inline-block }
.inline-table { display: inline-table }
.inline-flex { display: inline-flex }
.block-flow { display: block }
.block-root { display: block; display: flow-root }
.block-table { display: table }
.block-flex { display: flex }
/* respect [hidden] regardless */
[hidden] { display: none }
/* via https://npm.im/flexboxes */
.flex-row { flex-direction: row }
.flex-row-reverse { flex-direction: row-reverse }
.flex-column { flex-direction: column }
.flex-column-reverse { flex-direction: column-reverse }
.flex-wrap { flex-wrap: wrap }
.flex-nowrap { flex-wrap: nowrap }
.flex-wrap-reverse { flex-wrap: wrap-reverse }
.flex-auto { flex: 1 1 auto }
.items-start { align-items: flex-start }
.items-end { align-items: flex-end }
.items-center { align-items: center }
.items-baseline { align-items: baseline }
.items-stretch { align-items: stretch }
.self-start { align-self: flex-start }
.self-end { align-self: flex-end }
.self-center { align-self: center }
.self-baseline { align-self: baseline }
.self-stretch { align-self: stretch }
.justify-start { justify-content: flex-start }
.justify-end { justify-content: flex-end }
.justify-center { justify-content: center }
.justify-between { justify-content: space-between }
.justify-around { justify-content: space-around }
.content-start { align-content: flex-start }
.content-end { align-content: flex-end }
.content-center { align-content: center }
.content-between { align-content: space-between }
.content-around { align-content: space-around }
.content-stretch { align-content: stretch }
/* via https://npm.im/area.css */
.width-zero { width: 0 }
.width-all { width: 100% }
.width-em { width: 1em }
.width-rem { width: 1rem }
.width-viewport { width: 100vw }
.width-auto { width: auto }
.height-zero { height: 0 }
.height-all { height: 100% }
.height-em { height: 1em }
.height-rem { height: 1rem }
.height-viewport { height: 100vh }
.height-auto { height: auto }
.max-none { max-width: none; max-height: none }
.max-zero { max-width: 0; max-height: 0 }
.min-zero { min-width: 0; min-height: 0 }
.min-auto { min-width: auto; min-height: auto }
.max-viewport { max-width: 100vw; max-height: 100vh }
.min-viewport { min-width: 100vw; min-height: 100vh }
.width-free { max-width: none }
.width-fit { max-width: 100% }
.width-clip { max-width: 0 }
.width-force { min-width: 100% }
.height-free { max-height: none }
.height-fit { max-height: 100% }
.height-clip { max-height: 0 }
.height-force { min-height: 100% }
/* via https://npm.im/spacing */
.p0 { padding: 0 }
.p1 { padding: .5rem }
.p2 { padding: 1rem }
.p3 { padding: 2rem }
.p4 { padding: 4rem }
.pt0 { padding-top: 0 }
.pt1 { padding-top: .5rem }
.pt2 { padding-top: 1rem }
.pt3 { padding-top: 2rem }
.pt4 { padding-top: 4rem }
.pl0 { padding-left: 0 }
.pl1 { padding-left: .5rem }
.pl2 { padding-left: 1rem }
.pl3 { padding-left: 2rem }
.pl4 { padding-left: 4rem }
.pr0 { padding-right: 0 }
.pr1 { padding-right: .5rem }
.pr2 { padding-right: 1rem }
.pr3 { padding-right: 2rem }
.pr4 { padding-right: 4rem }
.pb0 { padding-bottom: 0 }
.pb1 { padding-bottom: .5rem }
.pb2 { padding-bottom: 1rem }
.pb3 { padding-bottom: 2rem }
.pb4 { padding-bottom: 4rem }
.m0 { margin: 0 }
.m1 { margin: .5rem }
.m2 { margin: 1rem }
.m3 { margin: 2rem }
.m4 { margin: 4rem }
.m-auto { margin: auto }
.mt0 { margin-top: 0 }
.mt1 { margin-top: .5rem }
.mt2 { margin-top: 1rem }
.mt3 { margin-top: 2rem }
.mt4 { margin-top: 4rem }
.ml0 { margin-left: 0 }
.ml1 { margin-left: .5rem }
.ml2 { margin-left: 1rem }
.ml3 { margin-left: 2rem }
.ml4 { margin-left: 4rem }
.mr0 { margin-right: 0 }
.mr1 { margin-right: .5rem }
.mr2 { margin-right: 1rem }
.mr3 { margin-right: 2rem }
.mr4 { margin-right: 4rem }
.mb0 { margin-bottom: 0 }
.mb1 { margin-bottom: .5rem }
.mb2 { margin-bottom: 1rem }
.mb3 { margin-bottom: 2rem }
.mb4 { margin-bottom: 4rem }
.mt-auto { margin-top: auto }
.ml-auto { margin-left: auto }
.mr-auto { margin-right: auto }
.mb-auto { margin-bottom: auto }
.mt0-first:first-child { margin-top: 0 }
.ml0-first:first-child { margin-left: 0 }
.mr0-first:first-child { margin-right: 0 }
.mb0-first:first-child { margin-bottom: 0 }
.mt0-last:last-child { margin-top: 0 }
.ml0-last:last-child { margin-left: 0 }
.mr0-last:last-child { margin-right: 0 }
.mb0-last:last-child { margin-bottom: 0 }
/* via https://npm.im/empower.css */
.empower {
  --retrace-30: 3;
  --retrace-29: 2.90173655;
  --retrace-28: 2.85410197;
  --retrace-27: 2.76393202;
  --retrace-26: 2.61803399;
  --retrace-25: 2.5;
  --retrace-24: 2.38196601;
  --retrace-23: 2.23606798;
  --retrace-22: 2.14589803;
  --retrace-21: 2.09016994;
  --retrace-20: 2;
  --retrace-19: 1.90173655;
  --retrace-18: 1.85410197;
  --retrace-17: 1.76393202;
  --retrace-16: 1.61803399;
  --retrace-15: 1.5;
  --retrace-14: 1.38196601;
  --retrace-13: 1.23606798;
  --retrace-12: 1.14589803;
  --retrace-11: 1.09016994;
  --retrace-10: 1;
  --factor-impact: var(--retrace-18);
  --factor-heart: var(--retrace-16);
  --factor-aware: var(--retrace-14);
  --factor-proud: var(--retrace-12);
  --factor-story: var(--retrace-10);
  --size-impact: calc(var(--factor-impact) * 1em);
  --size-heart: calc(var(--factor-heart) * 1em);
  --size-aware: calc(var(--factor-aware) * 1em);
  --size-proud: calc(var(--factor-proud) * 1em);
  --size-story: calc(var(--factor-story) * 1em);
  --line-story: var(--retrace-15);
  --line-group: var(--retrace-14);
  --line-dense: var(--retrace-13);
  --line-crush: var(--retrace-12);
  --line-level: var(--retrace-11);
}
@media (min-height: 30em) {
  .empower {
    --line-story: var(--retrace-16);
    --line-group: var(--retrace-15);
    --line-dense: var(--retrace-14);
    --line-crush: var(--retrace-13);
    --line-level: var(--retrace-12);
  }
}
@media (min-width: 50em) {
  .empower {
    --factor-impact: var(--retrace-20);
    --factor-heart: var(--retrace-17);
    --factor-aware: var(--retrace-15);
    --factor-proud: var(--retrace-13);
    --factor-story: var(--retrace-10);
  }
}
.empower-story { font-size: var(--size-story); line-height: var(--line-story) }
.empower-proud { font-size: var(--size-proud); line-height: var(--line-group) }
.empower-aware { font-size: var(--size-aware); line-height: var(--line-dense) }
.empower-heart { font-size: var(--size-heart); line-height: var(--line-crush) }
.empower-impact { font-size: var(--size-impact); line-height: var(--line-level) }
.line-level { line-height: var(--line-level) }
.line-crush { line-height: var(--line-crush) }
.line-dense { line-height: var(--line-dense) }
.line-proud { line-height: var(--line-proud) }
.line-story { line-height: var(--line-story) }
.size-story { font-size: var(--size-story) }
.size-proud { font-size: var(--size-proud) }
.size-aware { font-size: var(--size-aware) }
.size-heart { font-size: var(--size-heart) }
.size-impact { font-size: var(--size-impact) }
</style>

<body class="m0 p0 height-all width-all width-fit height-fit">

<header data-arrow id="cover" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
    <h1 class="font-600 m0 empower-impact">
      <span class="block-flow empower-impact font-600">R<wbr>e<wbr>s<wbr>i<wbr>l<wbr>i<wbr>e<wbr>n<wbr>t</span>
      <span class="block-flow empower-impact font-300">C<wbr>S<wbr>S</span>
    </h1>
  </div>
</header>

<article data-arrow id="ryanve" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto empower-aware">
    <a href="https://github.com/ryanve" class="block-table mb2 empower-impact font-600">@<wbr>ryanve</a>
    <span class="block-table line-level">Ryan Van Etten</span>
    <span class="block-table line-level">UX Engineer</span>
    <a class="block-table line-level" href="https://plangrid.github.io">PlanGrid</a>
  </div>
</article>

<article data-arrow id="agenda" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
    <h1 class="font-600 m0 empower-impact">
      #agenda
    </h1>
    <ol class="list-none p0">
      <li class="m0 mb3">Define <b>resilient CSS</b>
      <li class="m0 mb3">Show why it makes sense
      <li class="m0">Apply to design systems
    </ol>
  </div>
</article>

<article data-arrow id="goal" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
    <h2 class="m0 mb2 empower-impact"><a href="#goal">#goal</a></h2>
    <p class="m0 mb2 empower-impact">
      <dfn class="font-same">Resilient</dfn> means <b>durable</b> and <b>flexible</b>.
    </p>
  </div>
</article>

<article data-arrow id="ponder" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
    <p class="m0 empower-impact">
      When is <b>CSS</b> resilient?
    </p>
  </div>
</article>

<article data-arrow id="thesis" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
<pre class="font-800"><code>
.resilient {
  --when: immutable;
  --when: flat;
  --when: composable;
}
</code></pre>
  </div>
</article>

<article data-arrow id="oppose" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.not-resilient {
  --when: mutable;
  --when: nested;
  --when: coupled;
}
</code></pre>
  </div>
</article>

<article data-arrow id="mutation" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
--antipattern: mutation;
</code></pre>
  </div>
</article>

<article data-arrow id="overriding" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto empower-proud">
    <h3 class="font-same empower-proud mb2"><abbr class="font-300">aka</abbr> <b>overriding</b></h3>
    <p class="prose m0 font-400">across <b class="font-500">modules</b> or <b class="font-500">contexts</b>
  </div>
</article>

<article data-arrow id="original" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<h3 class="m0 mb2">button.css</h3>
<pre class="m0 p0 font-800"><code>
.button {}
</code></pre>
  </div>
</article>

<article data-arrow id="codebase" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<h3 class="m0 mb2">app.css</h3>
<pre class="m0 p0 font-800"><code>
47 results found for ".button"
</code></pre>
  </div>
</article>

<article data-arrow id="mutable" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.mutable {
  --problem: erratic; <!-- unpredictable -->
  --problem: buggy;
  --problem: blocking; <!-- fear -->
}
</code></pre>
  </div>
</article>

<article data-arrow id="waterfall" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
    <p class="prose">CSS rules that behave differently in different contexts are <b>erratic</b>.
    <p class="prose">Erratic means <b>buggy</b>. Contextual bugs are difficult to reproduce.
    <p class="prose">Both cause <b>blocking</b>. Mutation inhibits change in your codebase.
  </div>
</article>

<article data-arrow id="cost" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.mutable {
  --cost: time;
  --cost: quality;
  --cost: frustration;
}
</code></pre>
  </div>
</article>

<article data-arrow id="immutable" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
<pre class="font-800"><code>
.immutable {
  --benefit: predictable;
  --benefit: stable;
  --benefit: agile;
}
</code></pre>
  </div>
</article>

<article data-arrow id="nesting" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
--antipattern: nesting;
</code></pre>
  </div>
</article>

<article data-arrow id="deep" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.drawer {
  .header {
    .title {
      --problem: brittle;
      --problem: unfindable;
      --problem: overspecific;
    }
  }
}
</code></pre>
  </div>
</article>

<article data-arrow id="flattened" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
<pre class="font-800"><code>
.drawer-box {}
.drawer-header {}
.drawer-title {}
</code></pre>
  </div>
</article>

<article data-arrow id="flat" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
<pre class="font-800"><code>
.flat {
  --benefit: findable; <!-- direct target -->
  --benefit: debuggable; <!-- inspector -->
  --benefit: interoperable;
  --benefit: reusable;
  --benefit: performant;
}
</code></pre>
  </div>
</article>

<article data-arrow id="2" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.context {
  .component {
    --antipattern: mutation;
    --antipattern: nesting;
  }
}
</code></pre>
  </div>
</article>

<article data-arrow id="coupling" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
--antipattern: coupling;
</code></pre>
  </div>
</article>

<article data-arrow id="coupled" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.coupled {
  color: Lime;
  width: 100%;
}
</code></pre>
  </div>
</article>

<article data-arrow id="bloat" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
<pre class="font-800"><code>
.coupling {
  --cost: dependence;
  --cost: bloat;
}
</code></pre>
  </div>
</article>

<article data-arrow id="temptation" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-bee">
  <div class="m-auto">
    <p class="prose">Coupling <b>depends</b> on sharing.
    <p class="prose">Coupling <b>affects</b> inheritance.
    <p class="prose">Coupling <b>tempts</b> mutation.
  </div>
</article>

<article data-arrow id="composable" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
<pre class="font-800"><code>
.composable {
  --benefit: flexible;
  --benefit: learnable;
  --benefit: systematic;
  --benefit: performant;
}
</code></pre>
  </div>
</article>

<article data-arrow id="dimensions" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
    <p class="prose font-400">Composition affords dimensions of change.
    <p class="prose font-600">Destructure design.
  </div>
</article>

<article data-arrow id="challenge" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
    <h2 class="font-same font-600">#challenge</h2>
    <p class="prose font-400">Compose approachably.
  </div>
</article>

<article data-arrow id="balance" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
    <p class="prose"><b>Balance</b> flexibility vs. governance.
    <p class="prose font-300">If developers sidestep the system then governance is too extreme.
  </div>
</article>

<article data-arrow id="centric" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
    <p class="prose font-700">Property-centric architecture
    <p class="prose font-400">Separate files such that the order you load them has no effect on cascade.
  </div>
</article>

<article data-arrow id="structure" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
    <ul class="list-none p0">
      <li>alignment.css
      <li>border.css
      <li>display.css
      <li>flexbox.css
      <li>margin.css
      <li>...
    </ul>
  </div>
</article>

<article data-arrow id="color" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-air">
  <div class="m-auto">
    <ul class="list-none p0">
      <li>tone.css
      <li>shadow.css
      <li>...
    </ul>
  </div>
</article>

<footer data-arrow id="peace" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
    <a href="https://ryanve.github.io/resilient-css/#cover" class="block-table mb1 paint-air p2 font-600">ryanve<wbr>.github<wbr>.io<wbr>/resilient-css</a>
    <a href="https://github.com/ryanve" class="inline-table mb1 paint-air p2 font-700 empower-aware">@ryanve</a>
  </div>
</footer>

<footer data-arrow id="links" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
    <a href="https://ryanve.github.io/resilient-css/#cover" class="block-table mb1 paint-air p2 font-600">ryanve<wbr>.github<wbr>.io<wbr>/resilient-css</a>
    <a href="https://github.com/ryanve/resilient-css" class="inline-table mb1 paint-air p2">Source is on Github</a>
    <a href="https://plangrid.github.io" class="block-table mb1 paint-air p2">PlanGrid is hiring</a>
    <a href="https://twitter.com/ryanve" class="block-table mb1 paint-air p2">Thanks for listening!</a>
  </div>
</footer>

<article data-arrow id="tap-shape" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
<pre class="font-800"><code>
&lt;button
  class="preset-tap shape-compact tone-primary"
&gt;
</code></pre>
  </div>
</article>

<article data-arrow id="tap-pad" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
<pre class="font-800"><code>
&lt;button
  class="preset-box ix-tap pad-dense tone-primary"
&gt;
</code></pre>
  </div>
</article>

<article data-arrow id="spacing" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
<pre class="font-800"><code>
&lt;button
  data-preset="control"
  data-shape="plush"
  data-tone="create"
  data-shadow="4am 2pm"
  data-spacing="ml1 ml0-first"
&gt;
</code></pre>
  </div>
</article>

<article data-arrow id="shelf" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
<pre class="font-800"><code>
&lt;button
  data-preset="control"
  data-shape="plush"
  data-tone="create"
  data-shadow="4am 2pm"
  data-margin="shelf-dense"
&gt;
</code></pre>
  </div>
</article>

<article hidden data-arrow id="left" class="block-flex height-viewport height-fit width-fit items-center m0 p1 empower-impact border-thick border-dashed paint-jam">
  <div class="m-auto">
<pre class="font-800"><code>
&lt;button
  data-control="control"
  data-shape="dense"
  data-tone="danger"
  data-shadow="raised"
  data-margin="left-dense"
&gt;
</code></pre>
  </div>
</article>

<script>
!function(win) {
  if (!win.addEventListener) return
  var doc = win.document
  var loc = win.location
  var html = doc.documentElement
  var slice = [].slice

  function frag(target) {
    var id = target.id
    if (!id) throw new Error(target.hasAttribute("id") ? "Empty [id]" : "Missing [id]")
    return "#" + id
  }

  function route(code) {
    var stay = ""
    var destination = stay
    var left = code === 37
    var right = code === 39
    if (!left && !right) return
    var jumps = slice.call(doc.querySelectorAll("[data-arrow]:not([hidden])")).map(frag)
    var current = loc.hash
    if (!current) return right && jumps[win.pageYOffset ? 0 : 1] || stay
    return jumps.some(function(jump, i) {
      if (jump !== current) return
      var search = jumps[left ? i - 1 : i + 1]
      if (!search) return
      return destination = search
    }) ? destination : stay
  }

  win.addEventListener('keydown', function(e) {
    if (e.target !== doc.body && e.target !== doc) return
    if (e.altKey || e.ctrlKey || e.metaKey || e.shiftKey) return
    if (html.scrollWidth > html.offsetWidth) return
    var destination = route(e.keyCode)
    if (!destination) return
    e.preventDefault()
    loc.href = destination
  })
}(window);
</script>

<script>
if ("ryanve.github.io" === location.hostname) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5731919-29', 'auto');
  ga('send', 'pageview');
}
</script>
